gplink-2.2.18 (Apr 13 2020)
Listing File Generated: 2020-9-10  22:43:07
 
 
Address  Value    Disassembly              Source
-------  -----    -----------              ------
                                           ;--------------------------------------------------------
                                           ; external declarations
                                           ;--------------------------------------------------------
                                           	extern	_INT_Init
                                           	extern	_HIBYTEbits
                                           	extern	_FSR0bits
                                           	extern	_FSR1bits
                                           	extern	_PFLAGbits
                                           	extern	_P4CONbits
                                           	extern	_VREFCRbits
                                           	extern	_ADMbits
                                           	extern	_ADBbits
                                           	extern	_ADRbits
                                           	extern	_ADTbits
                                           	extern	_OEP0bits
                                           	extern	_EINTCRbits
                                           	extern	_OEP4bits
                                           	extern	_OEP5bits
                                           	extern	_INTFbits
                                           	extern	_INTEbits
                                           	extern	_OSCMbits
                                           	extern	_WDTCRbits
                                           	extern	_T0LDRbits
                                           	extern	_PCLbits
                                           	extern	_PCHbits
                                           	extern	_IOP0bits
                                           	extern	_IOP4bits
                                           	extern	_IOP5bits
                                           	extern	_TMRCRbits
                                           	extern	_T0CRbits
                                           	extern	_T0CNTbits
                                           	extern	_T1CRbits
                                           	extern	_T1CNTbits
                                           	extern	_T1LDRbits
                                           	extern	_MCRbits
                                           	extern	_PUP0bits
                                           	extern	_PUP4bits
                                           	extern	_PUP5bits
                                           	extern	_INDFbits
                                           	extern	_STKR3Lbits
                                           	extern	_STKR3Hbits
                                           	extern	_STKR2Lbits
                                           	extern	_STKR2Hbits
                                           	extern	_STKR1Lbits
                                           	extern	_STKR1Hbits
                                           	extern	_STKR0Lbits
                                           	extern	_STKR0Hbits
                                           	extern	_HIBYTE
                                           	extern	_FSR0
                                           	extern	_FSR1
                                           	extern	_PFLAG
                                           	extern	_P4CON
                                           	extern	_VREFCR
                                           	extern	_ADM
                                           	extern	_ADB
                                           	extern	_ADR
                                           	extern	_ADT
                                           	extern	_OEP0
                                           	extern	_EINTCR
                                           	extern	_OEP4
                                           	extern	_OEP5
                                           	extern	_INTF
                                           	extern	_INTE
                                           	extern	_OSCM
                                           	extern	_WDTCR
                                           	extern	_T0LDR
                                           	extern	_PCL
                                           	extern	_PCH
                                           	extern	_IOP0
                                           	extern	_IOP4
                                           	extern	_IOP5
                                           	extern	_TMRCR
                                           	extern	_T0CR
                                           	extern	_T0CNT
                                           	extern	_T1CR
                                           	extern	_T1CNT
                                           	extern	_T1LDR
                                           	extern	_MCR
                                           	extern	_PUP0
                                           	extern	_PUP4
                                           	extern	_PUP5
                                           	extern	_INDF
                                           	extern	_STKR3L
                                           	extern	_STKR3H
                                           	extern	_STKR2L
                                           	extern	_STKR2H
                                           	extern	_STKR1L
                                           	extern	_STKR1H
                                           	extern	_STKR0L
                                           	extern	_STKR0H
                                           ;--------------------------------------------------------
                                           ; global declarations
                                           ;--------------------------------------------------------
                                           	global	_Sys_Init
                                           	global	_IO_Init
                                           	global	_CLR_RAM
                                           	global	_main
                                           	global	_int_isr
                                           	global	_flag1
                                           
                                           	global STK06
                                           	global STK05
                                           	global STK04
                                           	global STK03
                                           	global STK02
                                           	global STK01
                                           	global STK00
                                           
                                           sharebank udata_ovr 0x0000
                                           STK06	res 1
                                           STK05	res 1
                                           STK04	res 1
                                           STK03	res 1
                                           STK02	res 1
                                           STK01	res 1
                                           STK00	res 1
                                           
                                           ;--------------------------------------------------------
                                           ; global definitions
                                           ;--------------------------------------------------------
                                           UD_MC35P7040_Demo_C_0	udata
                                           _flag1	res	1
                                           
                                           ;--------------------------------------------------------
                                           ; absolute symbol definitions
                                           ;--------------------------------------------------------
                                           ;--------------------------------------------------------
                                           ; compiler-defined variables
                                           ;--------------------------------------------------------
                                           ;--------------------------------------------------------
                                           ; initialized data
                                           ;--------------------------------------------------------
                                           
                                           ;@Allocation info for local variables in function 'CLR_RAM'
                                           ;@CLR_RAM IO_Init                   Allocated to registers ;size:2
                                           ;@CLR_RAM INT_Init                  Allocated to registers ;size:2
                                           ;@CLR_RAM Sys_Init                  Allocated to registers ;size:2
                                           ;@CLR_RAM HIBYTEbits                Allocated to registers ;size:1
                                           ;@CLR_RAM FSR0bits                  Allocated to registers ;size:1
                                           ;@CLR_RAM FSR1bits                  Allocated to registers ;size:1
                                           ;@CLR_RAM PFLAGbits                 Allocated to registers ;size:1
                                           ;@CLR_RAM P4CONbits                 Allocated to registers ;size:1
                                           ;@CLR_RAM VREFCRbits                Allocated to registers ;size:1
                                           ;@CLR_RAM ADMbits                   Allocated to registers ;size:1
                                           ;@CLR_RAM ADBbits                   Allocated to registers ;size:1
                                           ;@CLR_RAM ADRbits                   Allocated to registers ;size:1
                                           ;@CLR_RAM ADTbits                   Allocated to registers ;size:1
                                           ;@CLR_RAM OEP0bits                  Allocated to registers ;size:1
                                           ;@CLR_RAM EINTCRbits                Allocated to registers ;size:1
                                           ;@CLR_RAM OEP4bits                  Allocated to registers ;size:1
                                           ;@CLR_RAM OEP5bits                  Allocated to registers ;size:1
                                           ;@CLR_RAM INTFbits                  Allocated to registers ;size:1
                                           ;@CLR_RAM INTEbits                  Allocated to registers ;size:1
                                           ;@CLR_RAM OSCMbits                  Allocated to registers ;size:1
                                           ;@CLR_RAM WDTCRbits                 Allocated to registers ;size:1
                                           ;@CLR_RAM T0LDRbits                 Allocated to registers ;size:1
                                           ;@CLR_RAM PCLbits                   Allocated to registers ;size:1
                                           ;@CLR_RAM PCHbits                   Allocated to registers ;size:1
                                           ;@CLR_RAM IOP0bits                  Allocated to registers ;size:1
                                           ;@CLR_RAM IOP4bits                  Allocated to registers ;size:1
                                           ;@CLR_RAM IOP5bits                  Allocated to registers ;size:1
                                           ;@CLR_RAM TMRCRbits                 Allocated to registers ;size:1
                                           ;@CLR_RAM T0CRbits                  Allocated to registers ;size:1
                                           ;@CLR_RAM T0CNTbits                 Allocated to registers ;size:1
                                           ;@CLR_RAM T1CRbits                  Allocated to registers ;size:1
                                           ;@CLR_RAM T1CNTbits                 Allocated to registers ;size:1
                                           ;@CLR_RAM T1LDRbits                 Allocated to registers ;size:1
                                           ;@CLR_RAM MCRbits                   Allocated to registers ;size:1
                                           ;@CLR_RAM PUP0bits                  Allocated to registers ;size:1
                                           ;@CLR_RAM PUP4bits                  Allocated to registers ;size:1
                                           ;@CLR_RAM PUP5bits                  Allocated to registers ;size:1
                                           ;@CLR_RAM INDFbits                  Allocated to registers ;size:1
                                           ;@CLR_RAM STKR3Lbits                Allocated to registers ;size:1
                                           ;@CLR_RAM STKR3Hbits                Allocated to registers ;size:1
                                           ;@CLR_RAM STKR2Lbits                Allocated to registers ;size:1
                                           ;@CLR_RAM STKR2Hbits                Allocated to registers ;size:1
                                           ;@CLR_RAM STKR1Lbits                Allocated to registers ;size:1
                                           ;@CLR_RAM STKR1Hbits                Allocated to registers ;size:1
                                           ;@CLR_RAM STKR0Lbits                Allocated to registers ;size:1
                                           ;@CLR_RAM STKR0Hbits                Allocated to registers ;size:1
                                           ;@CLR_RAM flag1                     Allocated to registers ;size:1
                                           ;@CLR_RAM HIBYTE                    Allocated to registers ;size:1
                                           ;@CLR_RAM FSR0                      Allocated to registers ;size:1
                                           ;@CLR_RAM FSR1                      Allocated to registers ;size:1
                                           ;@CLR_RAM PFLAG                     Allocated to registers ;size:1
                                           ;@CLR_RAM P4CON                     Allocated to registers ;size:1
                                           ;@CLR_RAM VREFCR                    Allocated to registers ;size:1
                                           ;@CLR_RAM ADM                       Allocated to registers ;size:1
                                           ;@CLR_RAM ADB                       Allocated to registers ;size:1
                                           ;@CLR_RAM ADR                       Allocated to registers ;size:1
                                           ;@CLR_RAM ADT                       Allocated to registers ;size:1
                                           ;@CLR_RAM OEP0                      Allocated to registers ;size:1
                                           ;@CLR_RAM EINTCR                    Allocated to registers ;size:1
                                           ;@CLR_RAM OEP4                      Allocated to registers ;size:1
                                           ;@CLR_RAM OEP5                      Allocated to registers ;size:1
                                           ;@CLR_RAM INTF                      Allocated to registers ;size:1
                                           ;@CLR_RAM INTE                      Allocated to registers ;size:1
                                           ;@CLR_RAM OSCM                      Allocated to registers ;size:1
                                           ;@CLR_RAM WDTCR                     Allocated to registers ;size:1
                                           ;@CLR_RAM T0LDR                     Allocated to registers ;size:1
                                           ;@CLR_RAM PCL                       Allocated to registers ;size:1
                                           ;@CLR_RAM PCH                       Allocated to registers ;size:1
                                           ;@CLR_RAM IOP0                      Allocated to registers ;size:1
                                           ;@CLR_RAM IOP4                      Allocated to registers ;size:1
                                           ;@CLR_RAM IOP5                      Allocated to registers ;size:1
                                           ;@CLR_RAM TMRCR                     Allocated to registers ;size:1
                                           ;@CLR_RAM T0CR                      Allocated to registers ;size:1
                                           ;@CLR_RAM T0CNT                     Allocated to registers ;size:1
                                           ;@CLR_RAM T1CR                      Allocated to registers ;size:1
                                           ;@CLR_RAM T1CNT                     Allocated to registers ;size:1
                                           ;@CLR_RAM T1LDR                     Allocated to registers ;size:1
                                           ;@CLR_RAM MCR                       Allocated to registers ;size:1
                                           ;@CLR_RAM PUP0                      Allocated to registers ;size:1
                                           ;@CLR_RAM PUP4                      Allocated to registers ;size:1
                                           ;@CLR_RAM PUP5                      Allocated to registers ;size:1
                                           ;@CLR_RAM INDF                      Allocated to registers ;size:1
                                           ;@CLR_RAM STKR3L                    Allocated to registers ;size:1
                                           ;@CLR_RAM STKR3H                    Allocated to registers ;size:1
                                           ;@CLR_RAM STKR2L                    Allocated to registers ;size:1
                                           ;@CLR_RAM STKR2H                    Allocated to registers ;size:1
                                           ;@CLR_RAM STKR1L                    Allocated to registers ;size:1
                                           ;@CLR_RAM STKR1H                    Allocated to registers ;size:1
                                           ;@CLR_RAM STKR0L                    Allocated to registers ;size:1
                                           ;@CLR_RAM STKR0H                    Allocated to registers ;size:1
                                           ;@end Allocation info for local variables in function 'CLR_RAM';
                                           ;@Allocation info for local variables in function 'IO_Init'
                                           ;@end Allocation info for local variables in function 'IO_Init';
                                           ;@Allocation info for local variables in function 'Sys_Init'
                                           ;@end Allocation info for local variables in function 'Sys_Init';
                                           ;@Allocation info for local variables in function 'main'
                                           ;@end Allocation info for local variables in function 'main';
                                           ;@Allocation info for local variables in function 'int_isr'
                                           ;@end Allocation info for local variables in function 'int_isr';
                                           
                                           ;--------------------------------------------------------
                                           ; overlayable items in internal ram 
                                           ;--------------------------------------------------------
                                           ;	udata_ovr
                                           ;--------------------------------------------------------
                                           ; reset vector 
                                           ;--------------------------------------------------------
                                           STARTUP	code 0x0000
000000   800b     goto    0xb              	goto	_main
                                           ;--------------------------------------------------------
                                           ; interrupt and initialization code
                                           ;--------------------------------------------------------
                                           c_interrupt	code	0x8
                                           __sdcc_interrupt
                                           ;***
                                           ;  pBlock Stats: dbName = I
                                           ;***
                                           ;entry:  _int_isr	;Function start
                                           ; 0 exit points
                                           ;; Starting pCode block
                                           _int_isr	;Function start
                                           ; 0 exit points
                                           ;	.line	86; "MC35P7040_Demo_C.c"	__endasm;
000008   0400     push                     	push
                                           	
                                           ;	.line	89; "MC35P7040_Demo_C.c"	__endasm;
000009   0500     pop                      	pop
                                           	
                                           END_OF_INTERRUPT
                                           ;	.line	90; "MC35P7040_Demo_C.c"	}
00000a   0f00     retie                    	RETIE	
                                           
                                           ;--------------------------------------------------------
                                           ; code
                                           ;--------------------------------------------------------
                                           code_MC35P7040_Demo_C	code
                                           ;***
                                           ;  pBlock Stats: dbName = M
                                           ;***
                                           ;entry:  _main	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _Sys_Init
                                           ;   _Sys_Init
                                           ;; Starting pCode block
                                           _main	;Function start
                                           ; 2 exit points
                                           ;	.line	73; "MC35P7040_Demo_C.c"	Sys_Init();
00000b   c013     call    0x13             	CALL	_Sys_Init
                                           _00121_DS_
                                           ;	.line	76; "MC35P7040_Demo_C.c"	if(LVD36)  	   	//LVD烧录选择3.6V
00000c   5d86     jbset   0x86, 0x5        	JBSET	_PFLAGbits,5
00000d   8010     goto    0x10             	GOTO	_00118_DS_
                                           ;	.line	78; "MC35P7040_Demo_C.c"	P01D=1;
00000e   49d0     bset    0xd0, 0x1        	BSET	_IOP0bits,1
00000f   800c     goto    0xc              	GOTO	_00121_DS_
                                           _00118_DS_
                                           ;	.line	79; "MC35P7040_Demo_C.c"	}else P01D=0;   
000010   41d0     bclr    0xd0, 0x1        	BCLR	_IOP0bits,1
000011   800c     goto    0xc              	GOTO	_00121_DS_
                                           ;	.line	81; "MC35P7040_Demo_C.c"	}
000012   0e00     return                   	RETURN	
                                           ; exit point of _main
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _Sys_Init	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _CLR_RAM
                                           ;   _IO_Init
                                           ;   _CLR_RAM
                                           ;   _IO_Init
                                           ;; Starting pCode block
                                           _Sys_Init	;Function start
                                           ; 2 exit points
                                           ;	.line	66; "MC35P7040_Demo_C.c"	GIE = 0;
000013   47df     bclr    0xdf, 0x7        	BCLR	_MCRbits,7
                                           ;	.line	67; "MC35P7040_Demo_C.c"	CLR_RAM();
000014   c027     call    0x27             	CALL	_CLR_RAM
                                           ;	.line	68; "MC35P7040_Demo_C.c"	IO_Init();
000015   c018     call    0x18             	CALL	_IO_Init
                                           ;	.line	69; "MC35P7040_Demo_C.c"	GIE=1;        
000016   4fdf     bset    0xdf, 0x7        	BSET	_MCRbits,7
                                           ;	.line	70; "MC35P7040_Demo_C.c"	}
000017   0e00     return                   	RETURN	
                                           ; exit point of _Sys_Init
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _IO_Init	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _IO_Init	;Function start
                                           ; 2 exit points
                                           ;	.line	44; "MC35P7040_Demo_C.c"	IOP0=0x00; 	   	   	//io口数据位
000018   2bd0     clrr    0xd0             	CLRR	_IOP0
                                           ;	.line	45; "MC35P7040_Demo_C.c"	OEP0=0xff; 	   	   	//io口方向 1:out  0:in  
000019   2dff     movai   0xff             	MOVAI	0xff
00001a   1fb8     movra   0xb8             	MOVRA	_OEP0
                                           ;	.line	46; "MC35P7040_Demo_C.c"	PUP0=0x00; 	   	   	//io口上拉电阻   1:enable  0:disable
00001b   2be0     clrr    0xe0             	CLRR	_PUP0
                                           ;	.line	48; "MC35P7040_Demo_C.c"	IOP4=0x00; 	   	   	//io口数据位
00001c   2bd4     clrr    0xd4             	CLRR	_IOP4
                                           ;	.line	49; "MC35P7040_Demo_C.c"	OEP4=0xff; 	   	   	//io口方向 1:out  0:in   
00001d   2dff     movai   0xff             	MOVAI	0xff
00001e   1fc4     movra   0xc4             	MOVRA	_OEP4
                                           ;	.line	50; "MC35P7040_Demo_C.c"	PUP4=0x00; 	   	   	//io口上拉电阻   1:enable  0:disable
00001f   2be4     clrr    0xe4             	CLRR	_PUP4
                                           ;	.line	52; "MC35P7040_Demo_C.c"	IOP5=0x00; 	   	   	//io口数据位
000020   2bd5     clrr    0xd5             	CLRR	_IOP5
                                           ;	.line	53; "MC35P7040_Demo_C.c"	OEP5=0xff; 	   	   	//io口方向 1:out  0:in  
000021   2dff     movai   0xff             	MOVAI	0xff
000022   1fc5     movra   0xc5             	MOVRA	_OEP5
                                           ;	.line	54; "MC35P7040_Demo_C.c"	PUP5=0x00; 	   	   	//io口上拉电阻   1:enable  0:disable
000023   2be5     clrr    0xe5             	CLRR	_PUP5
                                           ;	.line	56; "MC35P7040_Demo_C.c"	P4CON=0xff;
000024   2dff     movai   0xff             	MOVAI	0xff
000025   1fae     movra   0xae             	MOVRA	_P4CON
                                           ;	.line	57; "MC35P7040_Demo_C.c"	}
000026   0e00     return                   	RETURN	
                                           ; exit point of _IO_Init
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _CLR_RAM	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _CLR_RAM	;Function start
                                           ; 2 exit points
                                           ;	.line	34; "MC35P7040_Demo_C.c"	__endasm;
000027   2d3f     movai   0x3f             	movai	0x3F
000028   1f83     movra   0x83             	movra	FSR0
000029   2b84     clrr    0x84             	clrr	FSR1
00002a   2be7     clrr    0xe7             	clrr	INDF
00002b   2683     djzr    0x83             	DJZR	FSR0
00002c   802a     goto    0x2a             	goto	$-2
00002d   2be7     clrr    0xe7             	clrr	INDF
                                           ;	.line	35; "MC35P7040_Demo_C.c"	}
00002e   0e00     return                   	RETURN	
                                           ; exit point of _CLR_RAM
                                           
                                           
                                           ;	code size estimation:
                                           ;	   30+    0 =    30 instructions (   60 byte)
                                           
                                           	end


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)

0000 : XX-------------- XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0040 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXX-- ---------------- ----------------

All other memory blocks unused.

Program Memory Words Used:    40

